import{_ as T,M as A,i as W,J as q}from"./index-CqByBC7l.js";function L(u,o){for(var p=0;p<o.length;p++){const s=o[p];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in u)){const y=Object.getOwnPropertyDescriptor(s,l);y&&Object.defineProperty(u,l,y.get?y:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}))}var P,k;function N(){if(k)return P;k=1;var u=Object.create,o=Object.defineProperty,p=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,_=(t,e,a)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,v=(t,e)=>{for(var a in e)o(t,a,{get:e[a],enumerable:!0})},m=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of s(e))!y.call(t,n)&&n!==a&&o(t,n,{get:()=>e[n],enumerable:!(i=p(e,n))||i.enumerable});return t},C=(t,e,a)=>(a=t!=null?u(l(t)):{},m(!t||!t.__esModule?o(a,"default",{value:t,enumerable:!0}):a,t)),j=t=>m(o({},"__esModule",{value:!0}),t),r=(t,e,a)=>(_(t,typeof e!="symbol"?e+"":e,a),a),f={};v(f,{default:()=>h}),P=j(f);var g=C(A()),c=W(),w=q();const R="https://fast.wistia.com/assets/external/E-v1.js",S="Wistia",E="wistia-player-";class h extends g.Component{constructor(){super(...arguments),r(this,"callPlayer",c.callPlayer),r(this,"playerID",this.props.config.playerId||`${E}${(0,c.randomString)()}`),r(this,"onPlay",(...e)=>this.props.onPlay(...e)),r(this,"onPause",(...e)=>this.props.onPause(...e)),r(this,"onSeek",(...e)=>this.props.onSeek(...e)),r(this,"onEnded",(...e)=>this.props.onEnded(...e)),r(this,"onPlaybackRateChange",(...e)=>this.props.onPlaybackRateChange(...e)),r(this,"mute",()=>{this.callPlayer("mute")}),r(this,"unmute",()=>{this.callPlayer("unmute")})}componentDidMount(){this.props.onMount&&this.props.onMount(this)}load(e){const{playing:a,muted:i,controls:n,onReady:D,config:d,onError:M}=this.props;(0,c.getSDK)(R,S).then(I=>{d.customControls&&d.customControls.forEach(b=>I.defineControl(b)),window._wq=window._wq||[],window._wq.push({id:this.playerID,options:{autoPlay:a,silentAutoPlay:"allow",muted:i,controlsVisibleOnLoad:n,fullscreenButton:n,playbar:n,playbackRateControl:n,qualityControl:n,volumeControl:n,settingsControl:n,smallPlayButton:n,...d.options},onReady:b=>{this.player=b,this.unbind(),this.player.bind("play",this.onPlay),this.player.bind("pause",this.onPause),this.player.bind("seek",this.onSeek),this.player.bind("end",this.onEnded),this.player.bind("playbackratechange",this.onPlaybackRateChange),D()}})},M)}unbind(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}play(){this.callPlayer("play")}pause(){this.callPlayer("pause")}stop(){this.unbind(),this.callPlayer("remove")}seekTo(e,a=!0){this.callPlayer("time",e),a||this.pause()}setVolume(e){this.callPlayer("volume",e)}setPlaybackRate(e){this.callPlayer("playbackRate",e)}getDuration(){return this.callPlayer("duration")}getCurrentTime(){return this.callPlayer("time")}getSecondsLoaded(){return null}render(){const{url:e}=this.props,a=e&&e.match(w.MATCH_URL_WISTIA)[1],i=`wistia_embed wistia_async_${a}`,n={width:"100%",height:"100%"};return g.default.createElement("div",{id:this.playerID,key:a,className:i,style:n})}}return r(h,"displayName","Wistia"),r(h,"canPlay",w.canPlay.wistia),r(h,"loopOnEnded",!0),P}var O=N();const x=T(O),$=L({__proto__:null,default:x},[O]);export{$ as W};
