import{_ as x,M as W,i as Y,J as $}from"./index-CoaexWKF.js";function z(i,a){for(var p=0;p<a.length;p++){const s=a[p];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in i)){const u=Object.getOwnPropertyDescriptor(s,n);u&&Object.defineProperty(i,n,u.get?u:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}var P,O;function F(){if(O)return P;O=1;var i=Object.create,a=Object.defineProperty,p=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,n=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,_=(t,e,r)=>e in t?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T=(t,e)=>{for(var r in e)a(t,r,{get:e[r],enumerable:!0})},g=(t,e,r,f)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of s(e))!u.call(t,o)&&o!==r&&a(t,o,{get:()=>e[o],enumerable:!(f=p(e,o))||f.enumerable});return t},j=(t,e,r)=>(r=t!=null?i(n(t)):{},g(!t||!t.__esModule?a(r,"default",{value:t,enumerable:!0}):r,t)),w=t=>g(a({},"__esModule",{value:!0}),t),l=(t,e,r)=>(_(t,typeof e!="symbol"?e+"":e,r),r),v={};T(v,{default:()=>d}),P=w(v);var b=j(W()),c=Y(),y=$();const D="https://player.twitch.tv/js/embed/v1.js",M="Twitch",C="twitch-player-";class d extends b.Component{constructor(){super(...arguments),l(this,"callPlayer",c.callPlayer),l(this,"playerID",this.props.config.playerId||`${C}${(0,c.randomString)()}`),l(this,"mute",()=>{this.callPlayer("setMuted",!0)}),l(this,"unmute",()=>{this.callPlayer("setMuted",!1)})}componentDidMount(){this.props.onMount&&this.props.onMount(this)}load(e,r){const{playsinline:f,onError:o,config:I,controls:N}=this.props,h=y.MATCH_URL_TWITCH_CHANNEL.test(e),m=h?e.match(y.MATCH_URL_TWITCH_CHANNEL)[1]:e.match(y.MATCH_URL_TWITCH_VIDEO)[1];if(r){h?this.player.setChannel(m):this.player.setVideo("v"+m);return}(0,c.getSDK)(D,M).then(E=>{this.player=new E.Player(this.playerID,{video:h?"":m,channel:h?m:"",height:"100%",width:"100%",playsinline:f,autoplay:this.props.playing,muted:this.props.muted,controls:h?!0:N,time:(0,c.parseStartTime)(e),...I.options});const{READY:A,PLAYING:S,PAUSE:H,ENDED:R,ONLINE:U,OFFLINE:V,SEEK:k}=E.Player;this.player.addEventListener(A,this.props.onReady),this.player.addEventListener(S,this.props.onPlay),this.player.addEventListener(H,this.props.onPause),this.player.addEventListener(R,this.props.onEnded),this.player.addEventListener(k,this.props.onSeek),this.player.addEventListener(U,this.props.onLoaded),this.player.addEventListener(V,this.props.onLoaded)},o)}play(){this.callPlayer("play")}pause(){this.callPlayer("pause")}stop(){this.callPlayer("pause")}seekTo(e,r=!0){this.callPlayer("seek",e),r||this.pause()}setVolume(e){this.callPlayer("setVolume",e)}getDuration(){return this.callPlayer("getDuration")}getCurrentTime(){return this.callPlayer("getCurrentTime")}getSecondsLoaded(){return null}render(){const e={width:"100%",height:"100%"};return b.default.createElement("div",{style:e,id:this.playerID})}}return l(d,"displayName","Twitch"),l(d,"canPlay",y.canPlay.twitch),l(d,"loopOnEnded",!0),P}var L=F();const G=x(L),K=z({__proto__:null,default:G},[L]);export{K as T};
